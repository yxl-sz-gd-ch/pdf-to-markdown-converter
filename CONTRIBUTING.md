# è´¡çŒ®æŒ‡å—

æ„Ÿè°¢æ‚¨å¯¹ PDF to Markdown Converter é¡¹ç›®çš„å…³æ³¨ï¼æˆ‘ä»¬æ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š

- ğŸ› æŠ¥å‘Š Bug
- ğŸ’¡ æå‡ºæ–°åŠŸèƒ½å»ºè®®
- ğŸ“ æ”¹è¿›æ–‡æ¡£
- ğŸ”§ æäº¤ä»£ç ä¿®å¤
- ğŸŒŸ åˆ†äº«ä½¿ç”¨ç»éªŒ

## ğŸ“‹ ç›®å½•

1. [å¼€å‘ç¯å¢ƒè®¾ç½®](#å¼€å‘ç¯å¢ƒè®¾ç½®)
2. [æäº¤ Issue](#æäº¤-issue)
3. [æäº¤ Pull Request](#æäº¤-pull-request)
4. [ä»£ç è§„èŒƒ](#ä»£ç è§„èŒƒ)
5. [æµ‹è¯•æŒ‡å—](#æµ‹è¯•æŒ‡å—)
6. [æ–‡æ¡£è´¡çŒ®](#æ–‡æ¡£è´¡çŒ®)

## ğŸ”§ å¼€å‘ç¯å¢ƒè®¾ç½®

### å‰ç½®è¦æ±‚

- Python 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬
- Git
- Windows 10/11ï¼ˆå½“å‰ä¸»è¦æ”¯æŒå¹³å°ï¼‰

### ç¯å¢ƒæ­å»º

1. **Fork å¹¶å…‹éš†é¡¹ç›®**
   ```bash
   git clone https://github.com/YOUR_USERNAME/pdf-to-markdown-converter.git
   cd pdf-to-markdown-converter
   ```

2. **åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ**
   ```bash
   python -m venv env310
   env310\Scripts\activate  # Windows
   # source env310/bin/activate  # Linux/Mac
   ```

3. **å®‰è£…ä¾èµ–**
   ```bash
   pip install --upgrade pip
   pip install -r requirements.txt
   
   # å®‰è£…å¼€å‘ä¾èµ–
   pip install pytest pytest-cov flake8 black isort
   ```

4. **éªŒè¯å®‰è£…**
   ```bash
   python main.py
   ```

### å¼€å‘å·¥å…·æ¨è

- **IDE**: VS Code, PyCharm
- **ä»£ç æ ¼å¼åŒ–**: Black
- **å¯¼å…¥æ’åº**: isort
- **ä»£ç æ£€æŸ¥**: flake8
- **æµ‹è¯•æ¡†æ¶**: pytest

## ğŸ› æäº¤ Issue

### Bug æŠ¥å‘Š

ä½¿ç”¨ Bug æŠ¥å‘Šæ¨¡æ¿ï¼Œè¯·åŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š

```markdown
## Bug æè¿°
ç®€æ´æ¸…æ™°åœ°æè¿°é‡åˆ°çš„é—®é¢˜

## å¤ç°æ­¥éª¤
1. æ‰“å¼€ç¨‹åº
2. é€‰æ‹©æ–‡ä»¶ 'xxx.pdf'
3. ç‚¹å‡»è½¬æ¢
4. å‡ºç°é”™è¯¯

## é¢„æœŸè¡Œä¸º
æè¿°æ‚¨æœŸæœ›å‘ç”Ÿçš„æƒ…å†µ

## å®é™…è¡Œä¸º
æè¿°å®é™…å‘ç”Ÿçš„æƒ…å†µ

## ç¯å¢ƒä¿¡æ¯
- æ“ä½œç³»ç»Ÿ: Windows 11
- Python ç‰ˆæœ¬: 3.10.5
- ç¨‹åºç‰ˆæœ¬: 1.0.0
- PDF æ–‡ä»¶ä¿¡æ¯: å¤§å°ã€é¡µæ•°ã€ç±»å‹

## é”™è¯¯æ—¥å¿—
```
ç²˜è´´å®Œæ•´çš„é”™è¯¯æ—¥å¿—
```

## æˆªå›¾
å¦‚æœé€‚ç”¨ï¼Œè¯·æ·»åŠ æˆªå›¾å¸®åŠ©è§£é‡Šé—®é¢˜
```

### åŠŸèƒ½è¯·æ±‚

ä½¿ç”¨åŠŸèƒ½è¯·æ±‚æ¨¡æ¿ï¼š

```markdown
## åŠŸèƒ½æè¿°
æ¸…æ™°æè¿°æ‚¨å¸Œæœ›æ·»åŠ çš„åŠŸèƒ½

## ä½¿ç”¨åœºæ™¯
æè¿°è¿™ä¸ªåŠŸèƒ½çš„ä½¿ç”¨åœºæ™¯å’Œä»·å€¼

## å»ºè®®çš„å®ç°æ–¹å¼
å¦‚æœæœ‰æƒ³æ³•ï¼Œè¯·æè¿°å¯èƒ½çš„å®ç°æ–¹å¼

## æ›¿ä»£æ–¹æ¡ˆ
æè¿°æ‚¨è€ƒè™‘è¿‡çš„å…¶ä»–è§£å†³æ–¹æ¡ˆ

## é™„åŠ ä¿¡æ¯
ä»»ä½•å…¶ä»–ç›¸å…³ä¿¡æ¯
```

## ğŸ”„ æäº¤ Pull Request

### PR æµç¨‹

1. **åˆ›å»ºåŠŸèƒ½åˆ†æ”¯**
   ```bash
   git checkout -b feature/your-feature-name
   # æˆ–
   git checkout -b fix/your-bug-fix
   ```

2. **è¿›è¡Œå¼€å‘**
   - ç¼–å†™ä»£ç 
   - æ·»åŠ æµ‹è¯•
   - æ›´æ–°æ–‡æ¡£

3. **æäº¤æ›´æ”¹**
   ```bash
   git add .
   git commit -m "feat: add new feature description"
   ```

4. **æ¨é€åˆ†æ”¯**
   ```bash
   git push origin feature/your-feature-name
   ```

5. **åˆ›å»º Pull Request**
   - åœ¨ GitHub ä¸Šåˆ›å»º PR
   - å¡«å†™ PR æ¨¡æ¿
   - ç­‰å¾…ä»£ç å®¡æŸ¥

### PR æ¨¡æ¿

```markdown
## æ›´æ”¹ç±»å‹
- [ ] Bug ä¿®å¤
- [ ] æ–°åŠŸèƒ½
- [ ] æ–‡æ¡£æ›´æ–°
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] ä»£ç é‡æ„

## æ›´æ”¹æè¿°
ç®€æ´æè¿°è¿™ä¸ª PR çš„æ›´æ”¹å†…å®¹

## ç›¸å…³ Issue
Fixes #(issue number)

## æµ‹è¯•
- [ ] å·²æ·»åŠ å•å…ƒæµ‹è¯•
- [ ] å·²è¿›è¡Œæ‰‹åŠ¨æµ‹è¯•
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡

## æ£€æŸ¥æ¸…å•
- [ ] ä»£ç éµå¾ªé¡¹ç›®è§„èŒƒ
- [ ] å·²æ›´æ–°ç›¸å…³æ–‡æ¡£
- [ ] å·²æ·»åŠ å¿…è¦çš„æ³¨é‡Š
- [ ] æ²¡æœ‰å¼•å…¥æ–°çš„è­¦å‘Š
```

## ğŸ“ ä»£ç è§„èŒƒ

### Python ä»£ç é£æ ¼

æˆ‘ä»¬éµå¾ª PEP 8 æ ‡å‡†ï¼Œå¹¶ä½¿ç”¨ä»¥ä¸‹å·¥å…·ï¼š

```bash
# ä»£ç æ ¼å¼åŒ–
black main.py

# å¯¼å…¥æ’åº
isort main.py

# ä»£ç æ£€æŸ¥
flake8 main.py
```

### å‘½åè§„èŒƒ

- **å˜é‡å’Œå‡½æ•°**: `snake_case`
- **ç±»å**: `PascalCase`
- **å¸¸é‡**: `UPPER_CASE`
- **ç§æœ‰æ–¹æ³•**: `_private_method`

### æ³¨é‡Šè§„èŒƒ

```python
def convert_pdf_to_markdown(pdf_path: str, output_dir: str) -> bool:
    """
    å°†PDFæ–‡ä»¶è½¬æ¢ä¸ºMarkdownæ ¼å¼
    
    Args:
        pdf_path (str): PDFæ–‡ä»¶è·¯å¾„
        output_dir (str): è¾“å‡ºç›®å½•è·¯å¾„
    
    Returns:
        bool: è½¬æ¢æ˜¯å¦æˆåŠŸ
    
    Raises:
        FileNotFoundError: å½“PDFæ–‡ä»¶ä¸å­˜åœ¨æ—¶
        PermissionError: å½“æ²¡æœ‰å†™å…¥æƒé™æ—¶
    """
    pass
```

### æäº¤ä¿¡æ¯è§„èŒƒ

ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) æ ¼å¼ï¼š

```
<type>[optional scope]: <description>

[optional body]

[optional footer(s)]
```

ç±»å‹è¯´æ˜ï¼š
- `feat`: æ–°åŠŸèƒ½
- `fix`: Bug ä¿®å¤
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼è°ƒæ•´
- `refactor`: ä»£ç é‡æ„
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

ç¤ºä¾‹ï¼š
```
feat(ui): add batch processing progress indicator

Add a detailed progress bar that shows current file being processed
and overall batch progress percentage.

Closes #123
```

## ğŸ§ª æµ‹è¯•æŒ‡å—

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest

# è¿è¡Œç‰¹å®šæµ‹è¯•æ–‡ä»¶
pytest tests/test_converter.py

# è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
pytest --cov=main --cov-report=html
```

### ç¼–å†™æµ‹è¯•

```python
import pytest
from unittest.mock import Mock, patch
from main import ConversionWorker

class TestConversionWorker:
    def test_extract_images_with_pymupdf(self):
        """æµ‹è¯•PyMuPDFå›¾ç‰‡æå–åŠŸèƒ½"""
        worker = ConversionWorker([], "", {}, False, {})
        
        with patch('fitz.open') as mock_fitz:
            # è®¾ç½®mockå¯¹è±¡
            mock_doc = Mock()
            mock_page = Mock()
            mock_page.get_images.return_value = [('img1', 'jpeg')]
            mock_doc.__getitem__.return_value = mock_page
            mock_doc.__len__.return_value = 1
            mock_fitz.return_value = mock_doc
            
            # æ‰§è¡Œæµ‹è¯•
            result = worker._extract_images_with_pymupdf("test.pdf", "output")
            
            # éªŒè¯ç»“æœ
            assert isinstance(result, list)
            mock_fitz.assert_called_once_with("test.pdf")
```

### æµ‹è¯•è¦†ç›–ç‡

æˆ‘ä»¬ç›®æ ‡æ˜¯ä¿æŒæµ‹è¯•è¦†ç›–ç‡åœ¨ 80% ä»¥ä¸Šã€‚è¯·ä¸ºæ–°åŠŸèƒ½æ·»åŠ ç›¸åº”çš„æµ‹è¯•ã€‚

## ğŸ“š æ–‡æ¡£è´¡çŒ®

### æ–‡æ¡£ç±»å‹

- **README.md**: é¡¹ç›®æ¦‚è¿°å’Œå¿«é€Ÿå¼€å§‹
- **æ•™ç¨‹.md**: è¯¦ç»†ä½¿ç”¨æ•™ç¨‹
- **API æ–‡æ¡£**: ä»£ç æ¥å£æ–‡æ¡£
- **ç¤ºä¾‹æ–‡æ¡£**: ä½¿ç”¨ç¤ºä¾‹å’Œé…ç½®

### æ–‡æ¡£è§„èŒƒ

1. **ä½¿ç”¨æ¸…æ™°çš„æ ‡é¢˜å±‚çº§**
2. **æä¾›ä»£ç ç¤ºä¾‹**
3. **åŒ…å«æˆªå›¾è¯´æ˜**ï¼ˆå¦‚æœé€‚ç”¨ï¼‰
4. **ä¿æŒå†…å®¹æ›´æ–°**

### æ–‡æ¡£æ›´æ–°æµç¨‹

1. ä¿®æ”¹ç›¸å…³æ–‡æ¡£æ–‡ä»¶
2. æœ¬åœ°é¢„è§ˆç¡®è®¤æ•ˆæœ
3. æäº¤ PR å¹¶è¯´æ˜æ›´æ”¹å†…å®¹

## ğŸ¯ è´¡çŒ®ç±»å‹

### ä»£ç è´¡çŒ®

- **æ–°åŠŸèƒ½å¼€å‘**
  - æ”¯æŒæ–°çš„è¾“å‡ºæ ¼å¼
  - æ·»åŠ æ–°çš„LLMæœåŠ¡
  - æ”¹è¿›å›¾ç‰‡å¤„ç†ç®—æ³•

- **Bug ä¿®å¤**
  - ä¿®å¤è½¬æ¢é”™è¯¯
  - è§£å†³ç•Œé¢é—®é¢˜
  - ä¼˜åŒ–æ€§èƒ½é—®é¢˜

- **ä»£ç ä¼˜åŒ–**
  - é‡æ„å¤æ‚å‡½æ•°
  - æé«˜ä»£ç å¯è¯»æ€§
  - ä¼˜åŒ–ç®—æ³•æ•ˆç‡

### éä»£ç è´¡çŒ®

- **æ–‡æ¡£æ”¹è¿›**
  - ä¿®æ­£é”™è¯¯
  - æ·»åŠ ç¤ºä¾‹
  - ç¿»è¯‘æ–‡æ¡£

- **æµ‹è¯•ç”¨ä¾‹**
  - æ·»åŠ å•å…ƒæµ‹è¯•
  - æä¾›æµ‹è¯•æ•°æ®
  - æ”¹è¿›æµ‹è¯•è¦†ç›–ç‡

- **ç”¨æˆ·ä½“éªŒ**
  - ç•Œé¢è®¾è®¡å»ºè®®
  - äº¤äº’æµç¨‹ä¼˜åŒ–
  - é”™è¯¯ä¿¡æ¯æ”¹è¿›

## ğŸ† è´¡çŒ®è€…è®¤å¯

æˆ‘ä»¬ä¼šåœ¨ä»¥ä¸‹åœ°æ–¹è®¤å¯è´¡çŒ®è€…ï¼š

- **README.md** ä¸­çš„è´¡çŒ®è€…åˆ—è¡¨
- **CHANGELOG.md** ä¸­çš„æ›´æ–°è®°å½•
- **GitHub Releases** ä¸­çš„è‡´è°¢

### è´¡çŒ®è€…ç­‰çº§

- **ğŸŒŸ æ ¸å¿ƒè´¡çŒ®è€…**: é•¿æœŸæ´»è·ƒï¼Œé‡å¤§åŠŸèƒ½è´¡çŒ®
- **ğŸ”§ ä»£ç è´¡çŒ®è€…**: æäº¤ä»£ç ä¿®å¤æˆ–åŠŸèƒ½
- **ğŸ“ æ–‡æ¡£è´¡çŒ®è€…**: æ”¹è¿›æ–‡æ¡£å’Œæ•™ç¨‹
- **ğŸ› é—®é¢˜æŠ¥å‘Šè€…**: æŠ¥å‘Šé‡è¦ Bug
- **ğŸ’¡ å»ºè®®æä¾›è€…**: æå‡ºæœ‰ä»·å€¼çš„åŠŸèƒ½å»ºè®®

## ğŸ“ è·å–å¸®åŠ©

å¦‚æœæ‚¨åœ¨è´¡çŒ®è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼š

1. **æŸ¥çœ‹ç°æœ‰ Issues**: å¯èƒ½å·²æœ‰ç›¸å…³è®¨è®º
2. **åˆ›å»º Discussion**: ç”¨äºä¸€èˆ¬æ€§é—®é¢˜è®¨è®º
3. **è”ç³»ç»´æŠ¤è€…**: é€šè¿‡ GitHub æˆ–é‚®ä»¶è”ç³»

## ğŸ“„ è®¸å¯è¯

é€šè¿‡è´¡çŒ®ä»£ç ï¼Œæ‚¨åŒæ„æ‚¨çš„è´¡çŒ®å°†åœ¨ MIT è®¸å¯è¯ä¸‹å‘å¸ƒã€‚

---

å†æ¬¡æ„Ÿè°¢æ‚¨çš„è´¡çŒ®ï¼æ¯ä¸€ä¸ªè´¡çŒ®éƒ½è®©è¿™ä¸ªé¡¹ç›®å˜å¾—æ›´å¥½ã€‚ ğŸ™